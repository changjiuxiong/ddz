!function(g){var I={};function C(A){if(I[A])return I[A].exports;var t=I[A]={i:A,l:!1,exports:{}};return g[A].call(t.exports,t,t.exports,C),t.l=!0,t.exports}C.m=g,C.c=I,C.d=function(g,I,A){C.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:A})},C.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},C.t=function(g,I){if(1&I&&(g=C(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var A=Object.create(null);if(C.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var t in g)C.d(A,t,function(I){return g[I]}.bind(null,t));return A},C.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(I,"a",I),I},C.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},C.p="",C(C.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/Poker.js\nclass Poker{\r\n    constructor(param) {\r\n        if(param.text){\r\n            this.text = param.text;\r\n            this.number = Poker.textToNumber(param.text);\r\n        }else{\r\n            this.number = param.number;\r\n            this.text = Poker.numberToText(param.number);\r\n        }\r\n        this.type = param.type;\r\n    }\r\n\r\n    static textToNumber(text){\r\n        switch (text) {\r\n            case '3': return 3;\r\n            case '4': return 4;\r\n            case '5': return 5;\r\n            case '6': return 6;\r\n            case '7': return 7;\r\n            case '8': return 8;\r\n            case '9': return 9;\r\n            case '10':\r\n            case '0':\r\n            case 'T':\r\n            case 't': return 10;\r\n            case '11':\r\n            case 'j':\r\n            case 'J': return 11;\r\n            case '12':\r\n            case 'q':\r\n            case 'Q': return 12;\r\n            case '13':\r\n            case 'k':\r\n            case 'K': return 13;\r\n            case '1':\r\n            case 'a':\r\n            case 'A': return 14;\r\n            case '2': return 15;\r\n            case 's':\r\n            case 'S': return 16;\r\n            case 'x':\r\n            case 'X': return 17;\r\n        }\r\n    }\r\n\r\n    static numberToText(number){\r\n        switch (number) {\r\n            case 3: return '3';\r\n            case 4: return '4';\r\n            case 5: return '5';\r\n            case 6: return '6';\r\n            case 7: return '7';\r\n            case 8: return '8';\r\n            case 9: return '9';\r\n            case 10: return '10';\r\n            case 11: return 'J';\r\n            case 12: return 'Q';\r\n            case 13: return 'K';\r\n            case 14: return 'A';\r\n            case 15: return '2';\r\n            case 16: return 'S';\r\n            case 17: return 'X';\r\n        }\r\n    }\r\n\r\n    static sortFunction(a, b){\r\n        return a.number - b.number;\r\n    }\r\n\r\n    static getObjByPokerList(pokerList){\r\n        if(pokerList[0] === 'pass'){\r\n            return {\r\n                type:'pass',\r\n                poker: pokerList,\r\n            };\r\n        }\r\n        pokerList.sort(Poker.sortFunction);\r\n\r\n        let lastPoker = pokerList[0];\r\n        let curList = [lastPoker];\r\n        let lists = [];\r\n        for(let i=1; i<pokerList.length; i++){\r\n            if(pokerList[i].number !== lastPoker.number){\r\n                lists.push(curList);\r\n                curList = [pokerList[i]];\r\n            }else{\r\n                curList.push(pokerList[i]);\r\n            }\r\n            lastPoker = pokerList[i];\r\n        }\r\n        lists.push(curList);\r\n\r\n        let Count1List = [];\r\n        let Count2List = [];\r\n        let Count3List = [];\r\n        let Count4List = [];\r\n        for(let i=0; i<lists.length; i++){\r\n            if(lists[i].length === 3){\r\n                Count3List.push(lists[i]);\r\n            }else if(lists[i].length === 2){\r\n                Count2List.push(lists[i]);\r\n            }else if(lists[i].length === 1){\r\n                Count1List.push(lists[i]);\r\n            }else if(lists[i].length === 4){\r\n                Count4List.push(lists[i]);\r\n            }\r\n        }\r\n\r\n        if(pokerList.length === 1){\r\n\r\n            return {\r\n                type:'one',\r\n                poker: pokerList,\r\n                one: pokerList,\r\n            };\r\n\r\n        }else if(pokerList.length === 2){\r\n\r\n            if(Count2List.length === 1){\r\n                return {\r\n                    type:'two',\r\n                    poker: pokerList,\r\n                    two: pokerList,\r\n                };\r\n            }else if(pokerList[0].number === 16 && pokerList[1].number === 17){\r\n                return {\r\n                    type:'sx',\r\n                    poker: pokerList,\r\n                    sx: pokerList,\r\n                };\r\n            }\r\n\r\n        }else if(pokerList.length === 4){\r\n\r\n            if(Count3List.length === 1){\r\n                return {\r\n                    type:'threeWithOne',\r\n                    poker: pokerList,\r\n                    three: Count3List[0],\r\n                    one: Count1List[0],\r\n                };\r\n            }else if(Count4List.length === 1){\r\n                return {\r\n                    type:'four',\r\n                    poker: pokerList,\r\n                    four: pokerList,\r\n                };\r\n            }\r\n\r\n        }else if(pokerList.length === 5){\r\n\r\n            if(Count3List.length === 1 && Count2List.length === 1){\r\n                return {\r\n                    type:'threeWithTwo',\r\n                    poker: pokerList,\r\n                    three: Count3List[0],\r\n                    two: Count2List[0],\r\n                };\r\n            }\r\n\r\n        }else if(pokerList.length === 8){\r\n\r\n            if(Count3List.length === 2 && Count3List[0][0].number+1===Count3List[1][0].number){\r\n                if(Count2List.length === 1){\r\n                    Count1List.push(Count2List[0].splice(0,1));\r\n                    Count1List.push(Count2List[0].splice(0,1));\r\n                }\r\n                return {\r\n                    type:'threeWithOneList',\r\n                    poker: pokerList,\r\n                    list: [\r\n                        {\r\n                            three: Count3List[0],\r\n                            one: Count1List[0],\r\n                        },\r\n                        {\r\n                            three: Count3List[1],\r\n                            one: Count1List[1],\r\n                        }\r\n                    ],\r\n                };\r\n            }\r\n\r\n        }else if(pokerList.length === 10){\r\n\r\n            if(Count3List.length === 2 && Count3List[0][0].number+1===Count3List[1][0].number && Count2List.length === 2){\r\n                return {\r\n                    type:'threeWithTwoList',\r\n                    poker: pokerList,\r\n                    list: [\r\n                        {\r\n                            three: Count3List[0],\r\n                            two: Count2List[0],\r\n                        },\r\n                        {\r\n                            three: Count3List[1],\r\n                            two: Count2List[1],\r\n                        }\r\n                    ],\r\n                };\r\n            }\r\n\r\n        }\r\n\r\n        //判断oneList\r\n        if(pokerList.length >= 5 && Count1List.length === pokerList.length && pokerList[0].number+pokerList.length-1===pokerList[pokerList.length-1].number){\r\n            return {\r\n                type:'oneList',\r\n                poker: pokerList,\r\n                list: Count1List.map(function (item) {\r\n                    return {\r\n                        one: item,\r\n                    }\r\n                }),\r\n            }\r\n        }\r\n\r\n        //判断twoList\r\n        if(pokerList.length >= 6 && pokerList.length%2 === 0 && Count2List.length === pokerList.length/2 && pokerList[0].number+pokerList.length/2-1===pokerList[pokerList.length-1].number){\r\n            return {\r\n                type:'twoList',\r\n                poker: pokerList,\r\n                list: Count2List.map(function (item) {\r\n                    return {\r\n                        two: item,\r\n                    }\r\n                }),\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static pokerListToString(pokerList){\r\n        let result = '';\r\n        for(let i=0; i<pokerList.length; i++){\r\n            let str = pokerList[i].toString();\r\n            result += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toString(){\r\n        return this.text;\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ var src_Poker = (Poker);\n// CONCATENATED MODULE: ./src/Player.js\n\r\n\r\nclass Player_Player{\r\n    constructor(param) {\r\n        param = param || {};\r\n        this.pokerList = [];\r\n        this.name = param.name || 'noName'+Math.random();\r\n        this.type = param.type || 'nongmin';\r\n        this.last = null;\r\n        this.next = null;\r\n        this.isRobot = param.isRobot;\r\n        this.game = param.game;\r\n        \r\n        this.lastSendObj = null;\r\n    }\r\n\r\n    addPoker(poker){\r\n        this.pokerList.push(poker);\r\n    }\r\n\r\n    sortPoker(){\r\n        this.pokerList.sort(this.sortFunction);\r\n    }\r\n\r\n    sortFunction(a, b){\r\n        return a.number - b.number;\r\n    }\r\n\r\n    getLastObj(){\r\n        let lastObj = this.last.lastSendObj;\r\n        if(!lastObj || lastObj.type === 'pass'){\r\n            lastObj = this.next.lastSendObj;\r\n            if(!lastObj || lastObj.type === 'pass'){\r\n                return false;\r\n            }\r\n        }\r\n        return lastObj;\r\n    }\r\n\r\n    playByAI(){\r\n\r\n        let lastObj = this.getLastObj();\r\n        if(lastObj){\r\n            this.playByObj(lastObj);\r\n        }else{\r\n            this.playByAllType();\r\n        }\r\n\r\n    }\r\n\r\n    sendPoker(obj){\r\n        this.game.clearDesk();\r\n        this.lastSendObj = obj;\r\n        this.game.deskPokerObj = obj;\r\n        this.game.next();\r\n    }\r\n\r\n    playByAllType(){\r\n        let types2 = ['one','two','threeWithOne','threeWithTwo','threeWithOneList','threeWithTwoList','oneList','twoList','four','sx','pass'];\r\n        let types = ['threeWithTwoList','threeWithOneList','twoList','threeWithTwo','oneList','threeWithOne','two','one','four','sx','pass'];\r\n        for(let i=0; i<types.length; i++){\r\n            let obj = this.getSmallestObjByType(types[i]);\r\n            if(obj){\r\n                let success = this.deleteFromPokerListAndSendByObj(obj);\r\n                if(!success){\r\n                    alert('error!');\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    deleteFromPokerListAndSendByObj(obj){\r\n        let tempList = [];\r\n        if(obj.type === 'pass'){\r\n            this.sendPoker(obj);\r\n            return true;\r\n        }\r\n        let pokerList = obj.poker;\r\n        for(let i=0; i<pokerList.length; i++){\r\n\r\n            let poker = this.getAndDeleteOnePokerByNumber(pokerList[i].number);\r\n            if(poker){\r\n                tempList.push(poker);\r\n            }else{\r\n                this.listBackToPokerList(tempList);\r\n                return false;\r\n            }\r\n        }\r\n        this.sendPoker(obj);\r\n        return true;\r\n    }\r\n\r\n    getSmallestObjByType(type){\r\n        let pokerList = this.pokerList;\r\n\r\n        let lastPoker = pokerList[0];\r\n        let curList = [lastPoker];\r\n        let lists = [];\r\n        for(let i=1; i<pokerList.length; i++){\r\n            if(pokerList[i].number !== lastPoker.number){\r\n                lists.push(curList);\r\n                curList = [pokerList[i]];\r\n            }else{\r\n                curList.push(pokerList[i]);\r\n            }\r\n            lastPoker = pokerList[i];\r\n        }\r\n        lists.push(curList);\r\n\r\n        let Count1List = [];\r\n        let Count2List = [];\r\n        let Count3List = [];\r\n        let Count4List = [];\r\n        for(let i=0; i<lists.length; i++){\r\n            if(lists[i].length === 3){\r\n                Count3List.push(lists[i]);\r\n            }else if(lists[i].length === 2){\r\n                Count2List.push(lists[i]);\r\n            }else if(lists[i].length === 1){\r\n                Count1List.push(lists[i]);\r\n            }else if(lists[i].length === 4){\r\n                Count4List.push(lists[i]);\r\n            }\r\n        }\r\n\r\n        let obj = null;\r\n        if(type === 'one'){\r\n            if(Count1List.length>0){\r\n                obj = {\r\n                    type: type,\r\n                    poker: Count1List[0],\r\n                    one: Count1List[0],\r\n                };\r\n            }else if(Count2List.length>0){\r\n                let poker = Count2List[0].slice(0,1);\r\n                obj = {\r\n                    type: type,\r\n                    poker: poker,\r\n                    one: poker,\r\n                };\r\n            }else if(Count3List.length>0){\r\n                let poker = Count3List[0].slice(0,1);\r\n                obj = {\r\n                    type: type,\r\n                    poker: poker,\r\n                    one: poker,\r\n                };\r\n            }\r\n        }else if(type === 'two'){\r\n            if(Count2List.length>0){\r\n                obj = {\r\n                    type: type,\r\n                    poker: Count2List[0],\r\n                    two: Count2List[0],\r\n                };\r\n            }else if(Count3List.length>0){\r\n                let poker = Count3List[0].slice(0,2);\r\n                obj = {\r\n                    type: type,\r\n                    poker: poker,\r\n                    one: poker,\r\n                };\r\n            }\r\n        }else if(type === 'threeWithOne'){\r\n            if(Count3List.length>0){\r\n                let one;\r\n                if(Count1List.length>0){\r\n                    one = Count1List[0];\r\n                }else if(Count2List.length>0){\r\n                    one = Count2List[0].slice(0,1);\r\n                }else if(Count3List.length>0){\r\n                    for(let j=0; j<Count3List.length; j++){\r\n                        if(j===0){\r\n                            continue;\r\n                        }\r\n                        one = Count3List[j].slice(0,1);\r\n                    }\r\n                }\r\n\r\n                if(one){\r\n                    obj = {\r\n                        type: type,\r\n                        poker: Count3List[0].concat(one),\r\n                        three: Count3List[0],\r\n                        one: one,\r\n                    };\r\n                }\r\n            }\r\n        }else if(type === 'four'){\r\n            if(Count4List.length>0){\r\n                obj = {\r\n                    type: type,\r\n                    poker: Count4List[0],\r\n                    four: Count4List[0],\r\n                };\r\n            }\r\n        }else if(type === 'threeWithTwo'){\r\n            if(Count3List.length>0){\r\n                let two;\r\n                if(Count2List.length>0){\r\n                    two = Count2List[0];\r\n                }else if(Count3List.length>0){\r\n                    for(let j=0; j<Count3List.length; j++){\r\n                        if(j===0){\r\n                            continue;\r\n                        }\r\n                        two = Count3List[j].slice(0,2);\r\n                    }\r\n                }\r\n\r\n                if(two){\r\n                    obj = {\r\n                        type: type,\r\n                        poker: Count3List[0].concat(two),\r\n                        three: Count3List[0],\r\n                        two: two,\r\n                    };\r\n                }\r\n            }\r\n        }else if(type === 'threeWithOneList'){\r\n            if(Count3List.length>1){\r\n                for(let i=0; i<Count3List.length-1; i++){\r\n                    if(Count3List[i][0].number+1===Count3List[i+1][0].number+1){\r\n\r\n                        let one1,one2;\r\n                        if(Count1List.length>0){\r\n                            one1 = Count1List[0];\r\n                            if(Count1List.length>1){\r\n                                one2 = Count1List[1];\r\n                            }else{\r\n                                if(Count2List.length>0){\r\n                                    one2 = Count2List[0].slice(0,1);\r\n                                }else if(Count3List.length>0){\r\n                                    for(let j=0; j<Count3List.length; j++){\r\n                                        if(j===i){\r\n                                            continue;\r\n                                        }\r\n                                        one2 = Count3List[j].slice(0,1);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }else if(Count2List.length>0){\r\n                            one1 = Count2List[0].slice(0,1);\r\n                            one2 = Count2List[0].slice(1,2);\r\n                        }else if(Count3List.length>0){\r\n                            for(let j=0; j<Count3List.length; j++){\r\n                                if(j===i){\r\n                                    continue;\r\n                                }\r\n                                one1 = Count3List[j].slice(0,1);\r\n                                one2 = Count3List[j].slice(1,2);\r\n                            }\r\n                        }\r\n\r\n                        if(one1&&one2){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(one1).concat(Count3List[i+1]).concat(one2),\r\n                                list: [\r\n                                    {\r\n                                        three: Count3List[i],\r\n                                        one: one1,\r\n                                    },\r\n                                    {\r\n                                        three: Count3List[i+1],\r\n                                        one: one2,\r\n                                    }\r\n                                ],\r\n                            };\r\n                        }\r\n                        break;\r\n\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'threeWithTwoList'){\r\n            if(Count3List.length>1){\r\n                for(let i=0; i<Count3List.length-1; i++){\r\n                    if(Count3List[i][0].number+1===Count3List[i+1][0].number+1){\r\n\r\n                        let two1,two2;\r\n                        if(Count2List.length>0){\r\n                            two1 = Count2List[0];\r\n                            if(Count2List.length>1){\r\n                                two2 = Count2List[1];\r\n                            }else{\r\n                                for(let j=0; j<Count3List.length; j++){\r\n                                    if(j===i){\r\n                                        continue;\r\n                                    }\r\n                                    two2 = Count3List[j].slice(0,2);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if(two1&&two2){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(two1).concat(Count3List[i+1]).concat(two2),\r\n                                list: [\r\n                                    {\r\n                                        three: Count3List[i],\r\n                                        two: two1,\r\n                                    },\r\n                                    {\r\n                                        three: Count3List[i+1],\r\n                                        two: two2,\r\n                                    }\r\n                                ],\r\n                            };\r\n                        }\r\n                        break;\r\n\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'oneList'){\r\n            if(Count1List.length>=5 ){\r\n                for(let i=0; i<Count1List.length-5+1; i++){\r\n                    if(Count1List[i][0].number+5-1===Count1List[i+5-1][0].number){\r\n                        let list = Count1List.slice(i,i+5);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: list.flat(1),\r\n                            list: list.map(function (item) {\r\n                                return {\r\n                                    one: item,\r\n                                }\r\n                            }),\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'twoList'){\r\n            if(Count2List.length>=3 ){\r\n                for(let i=0; i<Count2List.length-3+1; i++){\r\n                    if(Count2List[i][0].number+3-1===Count2List[i+3-1][0].number){\r\n                        let list = Count2List.slice(i,i+3);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: list.flat(1),\r\n                            list: list.map(function (item) {\r\n                                return {\r\n                                    two: item,\r\n                                }\r\n                            }),\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'sx'){\r\n            if(Count1List.length>=2){\r\n                for(let i=0; i<Count1List.length-1; i++){\r\n                    if(Count1List[i][0].number===16){\r\n                        let list = Count2List.slice(i,i+2);\r\n                        let poker = list.flat(1);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: poker,\r\n                            sx: poker,\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'pass'){\r\n            obj = {\r\n                type: type,\r\n                poker: ['pass'],\r\n            };\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    getObjByObj(lastObj){\r\n        let pokerList = this.pokerList;\r\n\r\n        let lastPoker = pokerList[0];\r\n        let curList = [lastPoker];\r\n        let lists = [];\r\n        for(let i=1; i<pokerList.length; i++){\r\n            if(pokerList[i].number !== lastPoker.number){\r\n                lists.push(curList);\r\n                curList = [pokerList[i]];\r\n            }else{\r\n                curList.push(pokerList[i]);\r\n            }\r\n            lastPoker = pokerList[i];\r\n        }\r\n        lists.push(curList);\r\n\r\n        let Count1List = [];\r\n        let Count2List = [];\r\n        let Count3List = [];\r\n        let Count4List = [];\r\n        for(let i=0; i<lists.length; i++){\r\n            if(lists[i].length === 3){\r\n                Count3List.push(lists[i]);\r\n            }else if(lists[i].length === 2){\r\n                Count2List.push(lists[i]);\r\n            }else if(lists[i].length === 1){\r\n                Count1List.push(lists[i]);\r\n            }else if(lists[i].length === 4){\r\n                Count4List.push(lists[i]);\r\n            }\r\n        }\r\n\r\n        let type = lastObj.type;\r\n        let obj = null;\r\n        if(type === 'one'){\r\n            if(Count1List.length>0){\r\n                for(let i=0; i<Count1List.length; i++){\r\n                    if(Count1List[i][0].number>lastObj.one[0].number){\r\n                        obj = {\r\n                            type: type,\r\n                            poker: Count1List[i],\r\n                            one: Count1List[i],\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }else if(Count2List.length>0){\r\n                for(let i=0; i<Count2List.length; i++){\r\n                    if(Count2List[i][0].number>lastObj.one[0].number){\r\n                        let poker = Count2List[i].slice(0,1);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: poker,\r\n                            one: poker,\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }else if(Count3List.length>0){\r\n                for(let i=0; i<Count3List.length; i++){\r\n                    if(Count3List[i][0].number>lastObj.one[0].number){\r\n                        let poker = Count3List[i].slice(0,1);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: poker,\r\n                            one: poker,\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'two'){\r\n            if(Count2List.length>0){\r\n                for(let i=0; i<Count2List.length; i++){\r\n                    if(Count2List[i][0].number>lastObj.two[0].number){\r\n                        obj = {\r\n                            type: type,\r\n                            poker: Count2List[i],\r\n                            two: Count2List[i],\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }else if(Count3List.length>0){\r\n                for(let i=0; i<Count3List.length; i++){\r\n                    if(Count3List[i][0].number>lastObj.two[0].number){\r\n                        let poker = Count3List[i].slice(0,2);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: poker,\r\n                            one: poker,\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'threeWithOne'){\r\n            if(Count3List.length>0){\r\n                for(let i=0; i<Count3List.length; i++){\r\n                    if(Count3List[i][0].number>lastObj.three[0].number){\r\n\r\n                        let one;\r\n                        if(Count1List.length>0){\r\n                            one = Count1List[0];\r\n                        }else if(Count2List.length>0){\r\n                            one = Count2List[0].slice(0,1);\r\n                        }else if(Count3List.length>0){\r\n                            for(let j=0; j<Count3List.length; j++){\r\n                                if(j===i){\r\n                                    continue;\r\n                                }\r\n                                one = Count3List[j].slice(0,1);\r\n                            }\r\n                        }\r\n\r\n                        if(one){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(one),\r\n                                three: Count3List[i],\r\n                                one: one,\r\n                            };\r\n                        }\r\n                        break;\r\n\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'threeWithTwo'){\r\n            if(Count3List.length>0){\r\n                for(let i=0; i<Count3List.length; i++){\r\n                    if(Count3List[i][0].number>lastObj.three[0].number){\r\n\r\n                        let two;\r\n                        if(Count2List.length>0){\r\n                            two = Count2List[0];\r\n                        }else if(Count3List.length>0){\r\n                            for(let j=0; j<Count3List.length; j++){\r\n                                if(j===i){\r\n                                    continue;\r\n                                }\r\n                                two = Count3List[j].slice(0,2);\r\n                            }\r\n                        }\r\n\r\n                        if(two){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(two),\r\n                                three: Count3List[i],\r\n                                two: two,\r\n                            };\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'threeWithOneList'){\r\n            if(Count3List.length>1){\r\n                for(let i=0; i<Count3List.length-1; i++){\r\n                    if(Count3List[i][0].number>lastObj.list[0].three[0].number && Count3List[i][0].number+1===Count3List[i+1][0].number+1){\r\n\r\n                        let one1,one2;\r\n                        if(Count1List.length>0){\r\n                            one1 = Count1List[0];\r\n                            if(Count1List.length>1){\r\n                                one2 = Count1List[1];\r\n                            }else{\r\n                                if(Count2List.length>0){\r\n                                    one2 = Count2List[0].slice(0,1);\r\n                                }else if(Count3List.length>0){\r\n                                    for(let j=0; j<Count3List.length; j++){\r\n                                        if(j===i){\r\n                                            continue;\r\n                                        }\r\n                                        one2 = Count3List[j].slice(0,1);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }else if(Count2List.length>0){\r\n                            one1 = Count2List[0].slice(0,1);\r\n                            one2 = Count2List[0].slice(1,2);\r\n                        }else if(Count3List.length>0){\r\n                            for(let j=0; j<Count3List.length; j++){\r\n                                if(j===i){\r\n                                    continue;\r\n                                }\r\n                                one1 = Count3List[j].slice(0,1);\r\n                                one2 = Count3List[j].slice(1,2);\r\n                            }\r\n                        }\r\n\r\n                        if(one1&&one2){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(one1).concat(Count3List[i+1]).concat(one2),\r\n                                list: [\r\n                                    {\r\n                                        three: Count3List[i],\r\n                                        one: one1,\r\n                                    },\r\n                                    {\r\n                                        three: Count3List[i+1],\r\n                                        one: one2,\r\n                                    }\r\n                                ],\r\n                            };\r\n                        }\r\n                        break;\r\n\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'threeWithTwoList'){\r\n            if(Count3List.length>1){\r\n                for(let i=0; i<Count3List.length-1; i++){\r\n                    if(Count3List[i][0].number>lastObj.list[0].three[0].number && Count3List[i][0].number+1===Count3List[i+1][0].number+1){\r\n\r\n                        let two1,two2;\r\n                        if(Count2List.length>0){\r\n                            two1 = Count2List[0];\r\n                            if(Count2List.length>1){\r\n                                two2 = Count2List[1];\r\n                            }else{\r\n                                for(let j=0; j<Count3List.length; j++){\r\n                                    if(j===i){\r\n                                        continue;\r\n                                    }\r\n                                    two2 = Count3List[j].slice(0,2);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if(two1&&two2){\r\n                            obj = {\r\n                                type: type,\r\n                                poker: Count3List[i].concat(two1).concat(Count3List[i+1]).concat(two2),\r\n                                list: [\r\n                                    {\r\n                                        three: Count3List[i],\r\n                                        two: two1,\r\n                                    },\r\n                                    {\r\n                                        three: Count3List[i+1],\r\n                                        two: two2,\r\n                                    }\r\n                                ],\r\n                            };\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'oneList'){\r\n            if(Count1List.length>=lastObj.list.length ){\r\n                for(let i=0; i<Count1List.length-lastObj.list.length+1; i++){\r\n                    if(Count1List[i][0].number>lastObj.list[0].one[0].number && Count1List[i][0].number+lastObj.list.length-1===Count1List[i+lastObj.list.length-1][0].number){\r\n                        let list = Count1List.slice(i,i+lastObj.list.length);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: list.flat(1),\r\n                            list: list.map(function (item) {\r\n                                return {\r\n                                    one: item,\r\n                                }\r\n                            }),\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'twoList'){\r\n            if(Count2List.length>=lastObj.list.length ){\r\n                for(let i=0; i<Count2List.length-lastObj.list.length+1; i++){\r\n                    if(Count2List[i][0].number>lastObj.list[0].two[0].number && Count2List[i][0].number+lastObj.list.length-1===Count2List[i+lastObj.list.length-1][0].number){\r\n                        let list = Count2List.slice(i,i+lastObj.list.length);\r\n                        obj = {\r\n                            type: type,\r\n                            poker: list.flat(1),\r\n                            list: list.map(function (item) {\r\n                                return {\r\n                                    two: item,\r\n                                }\r\n                            }),\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else if(type === 'four'){\r\n            if(Count4List.length>0){\r\n                for(let i=0; i<Count4List.length; i++){\r\n                    if(Count4List[i][0].number>lastObj.four[0].number){\r\n                        obj = {\r\n                            type: type,\r\n                            poker: Count4List[i],\r\n                            four: Count4List[i],\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if(!obj && type!=='four'){\r\n\r\n            if(Count4List.length>0){\r\n                obj = {\r\n                    type: type,\r\n                    poker: Count4List[0],\r\n                    four: Count4List[0],\r\n                };\r\n            }\r\n\r\n        }\r\n\r\n        if(!obj && type!=='sx'){\r\n\r\n            if(Count1List.length>1){\r\n                if(Count1List[Count1List.length-2] === 16){\r\n                    let poker = Count1List[Count1List.length-2].concat(Count1List[Count1List.length-1]);\r\n                    obj = {\r\n                        type: type,\r\n                        poker: poker,\r\n                        sx: poker,\r\n                    };\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if(!obj){\r\n            obj = {\r\n                type: 'pass',\r\n                poker: ['pass'],\r\n            };\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    playByObj(lastObj){\r\n\r\n        let obj = this.getObjByObj(lastObj);\r\n        let success = this.deleteFromPokerListAndSendByObj(obj);\r\n        if(!success){\r\n            alert('error!');\r\n        }\r\n\r\n    }\r\n\r\n    getListByString(str){\r\n        let tempList = [];\r\n        if(str === 'pass'){\r\n            return ['pass'];\r\n        }\r\n        for(let i=0; i<str.length; i++){\r\n            let text = str[i];\r\n            let number = src_Poker.textToNumber(text);\r\n            let poker = this.getAndDeleteOnePokerByNumber(number);\r\n            if(poker){\r\n                tempList.push(poker);\r\n            }else{\r\n                this.listBackToPokerList(tempList);\r\n                return false;\r\n            }\r\n        }\r\n        return tempList;\r\n    }\r\n\r\n    listBackToPokerList(list){\r\n        while (list.length>0){\r\n            let poker = list.splice(0,1)[0];\r\n            this.pokerList.push(poker);\r\n        }\r\n        this.sortPoker();\r\n    }\r\n\r\n    playByString(str){\r\n        let list = this.getListByString(str);\r\n        if(list){\r\n            let obj = src_Poker.getObjByPokerList(list);\r\n            if(obj){\r\n                if(obj.type === 'pass'){\r\n                    this.sendPoker(obj);\r\n                    return true;\r\n                }\r\n                let lastObj = this.getLastObj();\r\n                if(lastObj){\r\n                    if(lastObj.type === obj.type){\r\n                        let comp = this.compareTwoObj(obj, lastObj);\r\n                        if(comp){\r\n                            this.sendPoker(obj);\r\n                            return true;\r\n                        }else{\r\n                            this.listBackToPokerList(list);\r\n                            alert('have to bigger than '+src_Poker.pokerListToString(lastObj.poker));\r\n                            return false;\r\n                        }\r\n\r\n                    }else{\r\n                        this.listBackToPokerList(list);\r\n                        alert('type is not '+lastObj.type+'!');\r\n                        return false;\r\n                    }\r\n                }else{\r\n                    this.sendPoker(obj);\r\n                    return true;\r\n                }\r\n\r\n            }else{\r\n                this.listBackToPokerList(list);\r\n                alert('type error!');\r\n                return false;\r\n            }\r\n\r\n        }else{\r\n            alert('poker error!');\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    compareTwoObj(obj1, obj2) {\r\n        if (obj1.type === 'one') {\r\n            return obj1.one[0].number > obj2.one[0].number;\r\n        } else if (obj1.type === 'two') {\r\n            return obj1.two[0].number > obj2.two[0].number;\r\n        } else if (obj1.type === 'threeWithOne') {\r\n            return obj1.three[0].number > obj2.three[0].number;\r\n        } else if (obj1.type === 'threeWithTwo') {\r\n            return obj1.three[0].number > obj2.three[0].number;\r\n        } else if (obj1.type === 'threeWithOneList') {\r\n            return obj1.list[0].three[0].number > obj2.list[0].three[0].number;\r\n        } else if (obj1.type === 'threeWithTwoList') {\r\n            return obj1.list[0].three[0].number > obj2.list[0].three[0].number;\r\n        } else if (obj1.type === 'oneList') {\r\n            return obj1.list[0].one[0].number > obj2.list[0].one[0].number;\r\n        } else if (obj1.type === 'twoList') {\r\n            return obj1.list[0].two[0].number > obj2.list[0].two[0].number;\r\n        } else if (obj1.type === 'four') {\r\n            return obj1.four[0].number > obj2.four[0].number;\r\n        }\r\n    }\r\n\r\n\r\n    getAndDeleteOnePokerByNumber(number){\r\n        for(let i=0; i<this.pokerList.length; i++){\r\n            if(this.pokerList[i].number === number){\r\n                return this.pokerList.splice(i,1)[0];\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    pokerListToString(){\r\n        let result = src_Poker.pokerListToString(this.pokerList);\r\n        return result;\r\n    }\r\n\r\n    lastSendObjToString(){\r\n        if(!this.lastSendObj){\r\n            return '';\r\n        }\r\n        let result = src_Poker.pokerListToString(this.lastSendObj.poker);\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ var src_Player = (Player_Player);\n// CONCATENATED MODULE: ./src/Game.js\n\r\n\r\n\r\nclass Game_Game{\r\n    constructor() {\r\n        this.playerList = [];\r\n        this.pokerList = [];\r\n        this.deskPokerObj = null;\r\n        this.oldPokerList = [];\r\n        this.currentPlayer = [];\r\n        this.dizhu = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init(){\r\n        this.initPokerList();\r\n        this.initPlayerList();\r\n        this.sendPoker();\r\n\r\n        this.start();\r\n    }\r\n\r\n    start(){\r\n        this.currentPlayer = this.dizhu;\r\n        if(this.currentPlayer.isRobot){\r\n            this.currentPlayer.playByAI();\r\n        }\r\n    }\r\n\r\n    next(){\r\n        let over = this.checkGameOver();\r\n        if(over){\r\n            this.gameOver();\r\n            return;\r\n        }\r\n        this.currentPlayer = this.currentPlayer.next;\r\n        if(this.currentPlayer.isRobot){\r\n            this.currentPlayer.playByAI();\r\n        }\r\n    }\r\n\r\n    gameOver(){\r\n        alert('gameOver! '+this.currentPlayer.name+' ['+this.currentPlayer.type+'] win!');\r\n    }\r\n\r\n    checkGameOver(){\r\n        if(this.currentPlayer.pokerList.length === 0) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    clearDesk(){\r\n        if(this.deskPokerObj){\r\n            this.oldPokerList.push(this.deskPokerObj);\r\n            this.deskPokerObj = null;\r\n        }\r\n    }\r\n\r\n    sendPoker(){\r\n        let player = this.playerList[0];\r\n        do{\r\n            let index = this.getRandomIntInclusive(0,this.pokerList.length-1);\r\n            let poker = this.pokerList.splice(index,1)[0];\r\n            player.addPoker(poker);\r\n            player = player.next;\r\n        }while(this.pokerList.length>3);\r\n\r\n        do{\r\n            let poker = this.pokerList.splice(0,1)[0];\r\n            this.dizhu.addPoker(poker);\r\n        }while(this.pokerList.length>0);\r\n\r\n        for(let i=0; i<this.playerList.length; i++){\r\n            this.playerList[i].sortPoker();\r\n        }\r\n    }\r\n\r\n    initPlayerList(){\r\n        this.playerList = [];\r\n        let player0 = new src_Player({\r\n            name: 'player',\r\n            isRobot: false,\r\n            game: this,\r\n        });\r\n        let player1 = new src_Player({\r\n            name: 'robot1',\r\n            isRobot: true,\r\n            game: this,\r\n        });\r\n        let player2 = new src_Player({\r\n            name: 'robot2',\r\n            isRobot: true,\r\n            game: this,\r\n        });\r\n        this.playerList = [player0,player1,player2];\r\n\r\n        this.playerList[0].next = this.playerList[1];\r\n        this.playerList[1].next = this.playerList[2];\r\n        this.playerList[2].next = this.playerList[0];\r\n        this.playerList[0].last = this.playerList[2];\r\n        this.playerList[1].last = this.playerList[0];\r\n        this.playerList[2].last = this.playerList[1];\r\n\r\n        let dizhuIndex = this.getRandomIntInclusive(0,2);\r\n        this.playerList[dizhuIndex].type = 'dizhu';\r\n        this.dizhu = this.playerList[dizhuIndex];\r\n    }\r\n\r\n    initPokerList(){\r\n        this.pokerList = [];\r\n        for(let number=3; number<=15; number++){\r\n            for(let type=0; type<4; type++){\r\n                let poker = new src_Poker({\r\n                    number: number,\r\n                    type: type,\r\n                });\r\n                this.pokerList.push(poker);\r\n            }\r\n        }\r\n        for(let number=16; number<=17; number++){\r\n            let poker = new src_Poker({\r\n                number: number,\r\n            });\r\n            this.pokerList.push(poker);\r\n        }\r\n\r\n    }\r\n\r\n    pokerListToString(){\r\n        let result = '';\r\n        result += src_Poker.pokerListToString(this.pokerList);\r\n        result += '\\n';\r\n        for(let i=0; i<this.oldPokerList.length; i++){\r\n            result += src_Poker.pokerListToString(this.oldPokerList[i].poker);\r\n            if(i<this.oldPokerList.length-1){\r\n                result += ',';\r\n            }\r\n        }\r\n        result += '\\n';\r\n        result += this.deskPokerObj?src_Poker.pokerListToString(this.deskPokerObj.poker):'';\r\n        return result;\r\n    }\r\n\r\n    getRandomIntInclusive(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n}\r\n\r\n/* harmony default export */ var src_Game = (Game_Game);\n// CONCATENATED MODULE: ./src/main.js\n\r\n\r\nlet Doudizhu = {};\r\nDoudizhu.Game = src_Game;\r\n\r\nwindow.Doudizhu = Doudizhu;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9Qb2tlci5qcz8wM2RlIiwid2VicGFjazovLy8uL3NyYy9QbGF5ZXIuanM/Nzk2MyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS5qcz84NDA0Iiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUG9rZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbSkge1xyXG4gICAgICAgIGlmKHBhcmFtLnRleHQpe1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSBwYXJhbS50ZXh0O1xyXG4gICAgICAgICAgICB0aGlzLm51bWJlciA9IFBva2VyLnRleHRUb051bWJlcihwYXJhbS50ZXh0KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5udW1iZXIgPSBwYXJhbS5udW1iZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IFBva2VyLm51bWJlclRvVGV4dChwYXJhbS5udW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnR5cGUgPSBwYXJhbS50eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0ZXh0VG9OdW1iZXIodGV4dCl7XHJcbiAgICAgICAgc3dpdGNoICh0ZXh0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJzMnOiByZXR1cm4gMztcclxuICAgICAgICAgICAgY2FzZSAnNCc6IHJldHVybiA0O1xyXG4gICAgICAgICAgICBjYXNlICc1JzogcmV0dXJuIDU7XHJcbiAgICAgICAgICAgIGNhc2UgJzYnOiByZXR1cm4gNjtcclxuICAgICAgICAgICAgY2FzZSAnNyc6IHJldHVybiA3O1xyXG4gICAgICAgICAgICBjYXNlICc4JzogcmV0dXJuIDg7XHJcbiAgICAgICAgICAgIGNhc2UgJzknOiByZXR1cm4gOTtcclxuICAgICAgICAgICAgY2FzZSAnMTAnOlxyXG4gICAgICAgICAgICBjYXNlICcwJzpcclxuICAgICAgICAgICAgY2FzZSAnVCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3QnOiByZXR1cm4gMTA7XHJcbiAgICAgICAgICAgIGNhc2UgJzExJzpcclxuICAgICAgICAgICAgY2FzZSAnaic6XHJcbiAgICAgICAgICAgIGNhc2UgJ0onOiByZXR1cm4gMTE7XHJcbiAgICAgICAgICAgIGNhc2UgJzEyJzpcclxuICAgICAgICAgICAgY2FzZSAncSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1EnOiByZXR1cm4gMTI7XHJcbiAgICAgICAgICAgIGNhc2UgJzEzJzpcclxuICAgICAgICAgICAgY2FzZSAnayc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0snOiByZXR1cm4gMTM7XHJcbiAgICAgICAgICAgIGNhc2UgJzEnOlxyXG4gICAgICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgY2FzZSAnQSc6IHJldHVybiAxNDtcclxuICAgICAgICAgICAgY2FzZSAnMic6IHJldHVybiAxNTtcclxuICAgICAgICAgICAgY2FzZSAncyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1MnOiByZXR1cm4gMTY7XHJcbiAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICBjYXNlICdYJzogcmV0dXJuIDE3O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbnVtYmVyVG9UZXh0KG51bWJlcil7XHJcbiAgICAgICAgc3dpdGNoIChudW1iZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gJzMnO1xyXG4gICAgICAgICAgICBjYXNlIDQ6IHJldHVybiAnNCc7XHJcbiAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuICc1JztcclxuICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gJzYnO1xyXG4gICAgICAgICAgICBjYXNlIDc6IHJldHVybiAnNyc7XHJcbiAgICAgICAgICAgIGNhc2UgODogcmV0dXJuICc4JztcclxuICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gJzknO1xyXG4gICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gJzEwJztcclxuICAgICAgICAgICAgY2FzZSAxMTogcmV0dXJuICdKJztcclxuICAgICAgICAgICAgY2FzZSAxMjogcmV0dXJuICdRJztcclxuICAgICAgICAgICAgY2FzZSAxMzogcmV0dXJuICdLJztcclxuICAgICAgICAgICAgY2FzZSAxNDogcmV0dXJuICdBJztcclxuICAgICAgICAgICAgY2FzZSAxNTogcmV0dXJuICcyJztcclxuICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuICdTJztcclxuICAgICAgICAgICAgY2FzZSAxNzogcmV0dXJuICdYJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNvcnRGdW5jdGlvbihhLCBiKXtcclxuICAgICAgICByZXR1cm4gYS5udW1iZXIgLSBiLm51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0T2JqQnlQb2tlckxpc3QocG9rZXJMaXN0KXtcclxuICAgICAgICBpZihwb2tlckxpc3RbMF0gPT09ICdwYXNzJyl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOidwYXNzJyxcclxuICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBva2VyTGlzdC5zb3J0KFBva2VyLnNvcnRGdW5jdGlvbik7XHJcblxyXG4gICAgICAgIGxldCBsYXN0UG9rZXIgPSBwb2tlckxpc3RbMF07XHJcbiAgICAgICAgbGV0IGN1ckxpc3QgPSBbbGFzdFBva2VyXTtcclxuICAgICAgICBsZXQgbGlzdHMgPSBbXTtcclxuICAgICAgICBmb3IobGV0IGk9MTsgaTxwb2tlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihwb2tlckxpc3RbaV0ubnVtYmVyICE9PSBsYXN0UG9rZXIubnVtYmVyKXtcclxuICAgICAgICAgICAgICAgIGxpc3RzLnB1c2goY3VyTGlzdCk7XHJcbiAgICAgICAgICAgICAgICBjdXJMaXN0ID0gW3Bva2VyTGlzdFtpXV07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY3VyTGlzdC5wdXNoKHBva2VyTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdFBva2VyID0gcG9rZXJMaXN0W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0cy5wdXNoKGN1ckxpc3QpO1xyXG5cclxuICAgICAgICBsZXQgQ291bnQxTGlzdCA9IFtdO1xyXG4gICAgICAgIGxldCBDb3VudDJMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IENvdW50M0xpc3QgPSBbXTtcclxuICAgICAgICBsZXQgQ291bnQ0TGlzdCA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPGxpc3RzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYobGlzdHNbaV0ubGVuZ3RoID09PSAzKXtcclxuICAgICAgICAgICAgICAgIENvdW50M0xpc3QucHVzaChsaXN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGxpc3RzW2ldLmxlbmd0aCA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICBDb3VudDJMaXN0LnB1c2gobGlzdHNbaV0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihsaXN0c1tpXS5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgQ291bnQxTGlzdC5wdXNoKGxpc3RzW2ldKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobGlzdHNbaV0ubGVuZ3RoID09PSA0KXtcclxuICAgICAgICAgICAgICAgIENvdW50NExpc3QucHVzaChsaXN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHBva2VyTGlzdC5sZW5ndGggPT09IDEpe1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6J29uZScsXHJcbiAgICAgICAgICAgICAgICBwb2tlcjogcG9rZXJMaXN0LFxyXG4gICAgICAgICAgICAgICAgb25lOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKHBva2VyTGlzdC5sZW5ndGggPT09IDIpe1xyXG5cclxuICAgICAgICAgICAgaWYoQ291bnQyTGlzdC5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOid0d28nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgdHdvOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihwb2tlckxpc3RbMF0ubnVtYmVyID09PSAxNiAmJiBwb2tlckxpc3RbMV0ubnVtYmVyID09PSAxNyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3N4JyxcclxuICAgICAgICAgICAgICAgICAgICBwb2tlcjogcG9rZXJMaXN0LFxyXG4gICAgICAgICAgICAgICAgICAgIHN4OiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKHBva2VyTGlzdC5sZW5ndGggPT09IDQpe1xyXG5cclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOid0aHJlZVdpdGhPbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyZWU6IENvdW50M0xpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25lOiBDb3VudDFMaXN0WzBdLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfWVsc2UgaWYoQ291bnQ0TGlzdC5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidmb3VyJyxcclxuICAgICAgICAgICAgICAgICAgICBwb2tlcjogcG9rZXJMaXN0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZvdXI6IHBva2VyTGlzdCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2UgaWYocG9rZXJMaXN0Lmxlbmd0aCA9PT0gNSl7XHJcblxyXG4gICAgICAgICAgICBpZihDb3VudDNMaXN0Lmxlbmd0aCA9PT0gMSAmJiBDb3VudDJMaXN0Lmxlbmd0aCA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3RocmVlV2l0aFR3bycsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyTGlzdCxcclxuICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFswXSxcclxuICAgICAgICAgICAgICAgICAgICB0d286IENvdW50Mkxpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKHBva2VyTGlzdC5sZW5ndGggPT09IDgpe1xyXG5cclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGggPT09IDIgJiYgQ291bnQzTGlzdFswXVswXS5udW1iZXIrMT09PUNvdW50M0xpc3RbMV1bMF0ubnVtYmVyKXtcclxuICAgICAgICAgICAgICAgIGlmKENvdW50Mkxpc3QubGVuZ3RoID09PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBDb3VudDFMaXN0LnB1c2goQ291bnQyTGlzdFswXS5zcGxpY2UoMCwxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgQ291bnQxTGlzdC5wdXNoKENvdW50Mkxpc3RbMF0uc3BsaWNlKDAsMSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOid0aHJlZVdpdGhPbmVMaXN0JyxcclxuICAgICAgICAgICAgICAgICAgICBwb2tlcjogcG9rZXJMaXN0LFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWU6IENvdW50M0xpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmU6IENvdW50MUxpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lOiBDb3VudDFMaXN0WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2UgaWYocG9rZXJMaXN0Lmxlbmd0aCA9PT0gMTApe1xyXG5cclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGggPT09IDIgJiYgQ291bnQzTGlzdFswXVswXS5udW1iZXIrMT09PUNvdW50M0xpc3RbMV1bMF0ubnVtYmVyICYmIENvdW50Mkxpc3QubGVuZ3RoID09PSAyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTondGhyZWVXaXRoVHdvTGlzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyTGlzdCxcclxuICAgICAgICAgICAgICAgICAgICBsaXN0OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiBDb3VudDJMaXN0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3bzogQ291bnQyTGlzdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liKTmlq1vbmVMaXN0XHJcbiAgICAgICAgaWYocG9rZXJMaXN0Lmxlbmd0aCA+PSA1ICYmIENvdW50MUxpc3QubGVuZ3RoID09PSBwb2tlckxpc3QubGVuZ3RoICYmIHBva2VyTGlzdFswXS5udW1iZXIrcG9rZXJMaXN0Lmxlbmd0aC0xPT09cG9rZXJMaXN0W3Bva2VyTGlzdC5sZW5ndGgtMV0ubnVtYmVyKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6J29uZUxpc3QnLFxyXG4gICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyTGlzdCxcclxuICAgICAgICAgICAgICAgIGxpc3Q6IENvdW50MUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25lOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WIpOaWrXR3b0xpc3RcclxuICAgICAgICBpZihwb2tlckxpc3QubGVuZ3RoID49IDYgJiYgcG9rZXJMaXN0Lmxlbmd0aCUyID09PSAwICYmIENvdW50Mkxpc3QubGVuZ3RoID09PSBwb2tlckxpc3QubGVuZ3RoLzIgJiYgcG9rZXJMaXN0WzBdLm51bWJlcitwb2tlckxpc3QubGVuZ3RoLzItMT09PXBva2VyTGlzdFtwb2tlckxpc3QubGVuZ3RoLTFdLm51bWJlcil7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOid0d29MaXN0JyxcclxuICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlckxpc3QsXHJcbiAgICAgICAgICAgICAgICBsaXN0OiBDb3VudDJMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3bzogaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwb2tlckxpc3RUb1N0cmluZyhwb2tlckxpc3Qpe1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2tlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgc3RyID0gcG9rZXJMaXN0W2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBzdHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9rZXI7IiwiaW1wb3J0IFBva2VyIGZyb20gXCIuL1Bva2VyXCI7XHJcblxyXG5jbGFzcyBQbGF5ZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbSkge1xyXG4gICAgICAgIHBhcmFtID0gcGFyYW0gfHwge307XHJcbiAgICAgICAgdGhpcy5wb2tlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBwYXJhbS5uYW1lIHx8ICdub05hbWUnK01hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gcGFyYW0udHlwZSB8fCAnbm9uZ21pbic7XHJcbiAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNSb2JvdCA9IHBhcmFtLmlzUm9ib3Q7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gcGFyYW0uZ2FtZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxhc3RTZW5kT2JqID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhZGRQb2tlcihwb2tlcil7XHJcbiAgICAgICAgdGhpcy5wb2tlckxpc3QucHVzaChwb2tlcik7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydFBva2VyKCl7XHJcbiAgICAgICAgdGhpcy5wb2tlckxpc3Quc29ydCh0aGlzLnNvcnRGdW5jdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydEZ1bmN0aW9uKGEsIGIpe1xyXG4gICAgICAgIHJldHVybiBhLm51bWJlciAtIGIubnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExhc3RPYmooKXtcclxuICAgICAgICBsZXQgbGFzdE9iaiA9IHRoaXMubGFzdC5sYXN0U2VuZE9iajtcclxuICAgICAgICBpZighbGFzdE9iaiB8fCBsYXN0T2JqLnR5cGUgPT09ICdwYXNzJyl7XHJcbiAgICAgICAgICAgIGxhc3RPYmogPSB0aGlzLm5leHQubGFzdFNlbmRPYmo7XHJcbiAgICAgICAgICAgIGlmKCFsYXN0T2JqIHx8IGxhc3RPYmoudHlwZSA9PT0gJ3Bhc3MnKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGFzdE9iajtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5QnlBSSgpe1xyXG5cclxuICAgICAgICBsZXQgbGFzdE9iaiA9IHRoaXMuZ2V0TGFzdE9iaigpO1xyXG4gICAgICAgIGlmKGxhc3RPYmope1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlCeU9iaihsYXN0T2JqKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QnlBbGxUeXBlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZW5kUG9rZXIob2JqKXtcclxuICAgICAgICB0aGlzLmdhbWUuY2xlYXJEZXNrKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0U2VuZE9iaiA9IG9iajtcclxuICAgICAgICB0aGlzLmdhbWUuZGVza1Bva2VyT2JqID0gb2JqO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5uZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUJ5QWxsVHlwZSgpe1xyXG4gICAgICAgIGxldCB0eXBlczIgPSBbJ29uZScsJ3R3bycsJ3RocmVlV2l0aE9uZScsJ3RocmVlV2l0aFR3bycsJ3RocmVlV2l0aE9uZUxpc3QnLCd0aHJlZVdpdGhUd29MaXN0Jywnb25lTGlzdCcsJ3R3b0xpc3QnLCdmb3VyJywnc3gnLCdwYXNzJ107XHJcbiAgICAgICAgbGV0IHR5cGVzID0gWyd0aHJlZVdpdGhUd29MaXN0JywndGhyZWVXaXRoT25lTGlzdCcsJ3R3b0xpc3QnLCd0aHJlZVdpdGhUd28nLCdvbmVMaXN0JywndGhyZWVXaXRoT25lJywndHdvJywnb25lJywnZm91cicsJ3N4JywncGFzcyddO1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHR5cGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IHRoaXMuZ2V0U21hbGxlc3RPYmpCeVR5cGUodHlwZXNbaV0pO1xyXG4gICAgICAgICAgICBpZihvYmope1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0aGlzLmRlbGV0ZUZyb21Qb2tlckxpc3RBbmRTZW5kQnlPYmoob2JqKTtcclxuICAgICAgICAgICAgICAgIGlmKCFzdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnZXJyb3IhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUZyb21Qb2tlckxpc3RBbmRTZW5kQnlPYmoob2JqKXtcclxuICAgICAgICBsZXQgdGVtcExpc3QgPSBbXTtcclxuICAgICAgICBpZihvYmoudHlwZSA9PT0gJ3Bhc3MnKXtcclxuICAgICAgICAgICAgdGhpcy5zZW5kUG9rZXIob2JqKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwb2tlckxpc3QgPSBvYmoucG9rZXI7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8cG9rZXJMaXN0Lmxlbmd0aDsgaSsrKXtcclxuXHJcbiAgICAgICAgICAgIGxldCBwb2tlciA9IHRoaXMuZ2V0QW5kRGVsZXRlT25lUG9rZXJCeU51bWJlcihwb2tlckxpc3RbaV0ubnVtYmVyKTtcclxuICAgICAgICAgICAgaWYocG9rZXIpe1xyXG4gICAgICAgICAgICAgICAgdGVtcExpc3QucHVzaChwb2tlcik7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0QmFja1RvUG9rZXJMaXN0KHRlbXBMaXN0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbmRQb2tlcihvYmopO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNtYWxsZXN0T2JqQnlUeXBlKHR5cGUpe1xyXG4gICAgICAgIGxldCBwb2tlckxpc3QgPSB0aGlzLnBva2VyTGlzdDtcclxuXHJcbiAgICAgICAgbGV0IGxhc3RQb2tlciA9IHBva2VyTGlzdFswXTtcclxuICAgICAgICBsZXQgY3VyTGlzdCA9IFtsYXN0UG9rZXJdO1xyXG4gICAgICAgIGxldCBsaXN0cyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0xOyBpPHBva2VyTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHBva2VyTGlzdFtpXS5udW1iZXIgIT09IGxhc3RQb2tlci5udW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgbGlzdHMucHVzaChjdXJMaXN0KTtcclxuICAgICAgICAgICAgICAgIGN1ckxpc3QgPSBbcG9rZXJMaXN0W2ldXTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjdXJMaXN0LnB1c2gocG9rZXJMaXN0W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0UG9rZXIgPSBwb2tlckxpc3RbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpc3RzLnB1c2goY3VyTGlzdCk7XHJcblxyXG4gICAgICAgIGxldCBDb3VudDFMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IENvdW50Mkxpc3QgPSBbXTtcclxuICAgICAgICBsZXQgQ291bnQzTGlzdCA9IFtdO1xyXG4gICAgICAgIGxldCBDb3VudDRMaXN0ID0gW107XHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8bGlzdHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihsaXN0c1tpXS5sZW5ndGggPT09IDMpe1xyXG4gICAgICAgICAgICAgICAgQ291bnQzTGlzdC5wdXNoKGxpc3RzW2ldKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobGlzdHNbaV0ubGVuZ3RoID09PSAyKXtcclxuICAgICAgICAgICAgICAgIENvdW50Mkxpc3QucHVzaChsaXN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGxpc3RzW2ldLmxlbmd0aCA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICBDb3VudDFMaXN0LnB1c2gobGlzdHNbaV0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihsaXN0c1tpXS5sZW5ndGggPT09IDQpe1xyXG4gICAgICAgICAgICAgICAgQ291bnQ0TGlzdC5wdXNoKGxpc3RzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9iaiA9IG51bGw7XHJcbiAgICAgICAgaWYodHlwZSA9PT0gJ29uZScpe1xyXG4gICAgICAgICAgICBpZihDb3VudDFMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBDb3VudDFMaXN0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uZTogQ291bnQxTGlzdFswXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBva2VyID0gQ291bnQyTGlzdFswXS5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uZTogcG9rZXIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2tlciA9IENvdW50M0xpc3RbMF0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlcixcclxuICAgICAgICAgICAgICAgICAgICBvbmU6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICd0d28nKXtcclxuICAgICAgICAgICAgaWYoQ291bnQyTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQyTGlzdFswXSxcclxuICAgICAgICAgICAgICAgICAgICB0d286IENvdW50Mkxpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2tlciA9IENvdW50M0xpc3RbMF0uc2xpY2UoMCwyKTtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlcixcclxuICAgICAgICAgICAgICAgICAgICBvbmU6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICd0aHJlZVdpdGhPbmUnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgb25lO1xyXG4gICAgICAgICAgICAgICAgaWYoQ291bnQxTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgb25lID0gQ291bnQxTGlzdFswXTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgIG9uZSA9IENvdW50Mkxpc3RbMF0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50M0xpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPENvdW50M0xpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihqPT09MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmUgPSBDb3VudDNMaXN0W2pdLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKG9uZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQzTGlzdFswXS5jb25jYXQob25lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWU6IENvdW50M0xpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogb25lLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAnZm91cicpe1xyXG4gICAgICAgICAgICBpZihDb3VudDRMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBva2VyOiBDb3VudDRMaXN0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvdXI6IENvdW50NExpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3RocmVlV2l0aFR3bycpe1xyXG4gICAgICAgICAgICBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGxldCB0d287XHJcbiAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICB0d28gPSBDb3VudDJMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoQ291bnQzTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8Q291bnQzTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGo9PT0wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3byA9IENvdW50M0xpc3Rbal0uc2xpY2UoMCwyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodHdvKXtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBva2VyOiBDb3VudDNMaXN0WzBdLmNvbmNhdCh0d28pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiB0d28sXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICd0aHJlZVdpdGhPbmVMaXN0Jyl7XHJcbiAgICAgICAgICAgIGlmKENvdW50M0xpc3QubGVuZ3RoPjEpe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Q291bnQzTGlzdC5sZW5ndGgtMTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDNMaXN0W2ldWzBdLm51bWJlcisxPT09Q291bnQzTGlzdFtpKzFdWzBdLm51bWJlcisxKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvbmUxLG9uZTI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENvdW50MUxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMSA9IENvdW50MUxpc3RbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0Lmxlbmd0aD4xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUyID0gQ291bnQxTGlzdFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUyID0gQ291bnQyTGlzdFswXS5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50M0xpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDsgajxDb3VudDNMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGo9PT1pKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTIgPSBDb3VudDNMaXN0W2pdLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMSA9IENvdW50Mkxpc3RbMF0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTIgPSBDb3VudDJMaXN0WzBdLnNsaWNlKDEsMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50M0xpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8Q291bnQzTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaj09PWkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMSA9IENvdW50M0xpc3Rbal0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUyID0gQ291bnQzTGlzdFtqXS5zbGljZSgxLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvbmUxJiZvbmUyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBva2VyOiBDb3VudDNMaXN0W2ldLmNvbmNhdChvbmUxKS5jb25jYXQoQ291bnQzTGlzdFtpKzFdKS5jb25jYXQob25lMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogb25lMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWU6IENvdW50M0xpc3RbaSsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogb25lMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAndGhyZWVXaXRoVHdvTGlzdCcpe1xyXG4gICAgICAgICAgICBpZihDb3VudDNMaXN0Lmxlbmd0aD4xKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50M0xpc3QubGVuZ3RoLTE7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQzTGlzdFtpXVswXS5udW1iZXIrMT09PUNvdW50M0xpc3RbaSsxXVswXS5udW1iZXIrMSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHdvMSx0d28yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3bzEgPSBDb3VudDJMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQyTGlzdC5sZW5ndGg+MSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvMiA9IENvdW50Mkxpc3RbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDsgajxDb3VudDNMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaj09PWkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvMiA9IENvdW50M0xpc3Rbal0uc2xpY2UoMCwyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR3bzEmJnR3bzIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IENvdW50M0xpc3RbaV0uY29uY2F0KHR3bzEpLmNvbmNhdChDb3VudDNMaXN0W2krMV0pLmNvbmNhdCh0d28yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0W2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiB0d28xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFtpKzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiB0d28yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICdvbmVMaXN0Jyl7XHJcbiAgICAgICAgICAgIGlmKENvdW50MUxpc3QubGVuZ3RoPj01ICl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDFMaXN0Lmxlbmd0aC01KzE7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQxTGlzdFtpXVswXS5udW1iZXIrNS0xPT09Q291bnQxTGlzdFtpKzUtMV1bMF0ubnVtYmVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBDb3VudDFMaXN0LnNsaWNlKGksaSs1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBva2VyOiBsaXN0LmZsYXQoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0OiBsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3R3b0xpc3QnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQyTGlzdC5sZW5ndGg+PTMgKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50Mkxpc3QubGVuZ3RoLTMrMTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0W2ldWzBdLm51bWJlciszLTE9PT1Db3VudDJMaXN0W2krMy0xXVswXS5udW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IENvdW50Mkxpc3Quc2xpY2UoaSxpKzMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IGxpc3QuZmxhdCgxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAnc3gnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQxTGlzdC5sZW5ndGg+PTIpe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Q291bnQxTGlzdC5sZW5ndGgtMTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0W2ldWzBdLm51bWJlcj09PTE2KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBDb3VudDJMaXN0LnNsaWNlKGksaSsyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBva2VyID0gbGlzdC5mbGF0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3g6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAncGFzcycpe1xyXG4gICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgcG9rZXI6IFsncGFzcyddLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPYmpCeU9iaihsYXN0T2JqKXtcclxuICAgICAgICBsZXQgcG9rZXJMaXN0ID0gdGhpcy5wb2tlckxpc3Q7XHJcblxyXG4gICAgICAgIGxldCBsYXN0UG9rZXIgPSBwb2tlckxpc3RbMF07XHJcbiAgICAgICAgbGV0IGN1ckxpc3QgPSBbbGFzdFBva2VyXTtcclxuICAgICAgICBsZXQgbGlzdHMgPSBbXTtcclxuICAgICAgICBmb3IobGV0IGk9MTsgaTxwb2tlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihwb2tlckxpc3RbaV0ubnVtYmVyICE9PSBsYXN0UG9rZXIubnVtYmVyKXtcclxuICAgICAgICAgICAgICAgIGxpc3RzLnB1c2goY3VyTGlzdCk7XHJcbiAgICAgICAgICAgICAgICBjdXJMaXN0ID0gW3Bva2VyTGlzdFtpXV07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY3VyTGlzdC5wdXNoKHBva2VyTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdFBva2VyID0gcG9rZXJMaXN0W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0cy5wdXNoKGN1ckxpc3QpO1xyXG5cclxuICAgICAgICBsZXQgQ291bnQxTGlzdCA9IFtdO1xyXG4gICAgICAgIGxldCBDb3VudDJMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IENvdW50M0xpc3QgPSBbXTtcclxuICAgICAgICBsZXQgQ291bnQ0TGlzdCA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPGxpc3RzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYobGlzdHNbaV0ubGVuZ3RoID09PSAzKXtcclxuICAgICAgICAgICAgICAgIENvdW50M0xpc3QucHVzaChsaXN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGxpc3RzW2ldLmxlbmd0aCA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICBDb3VudDJMaXN0LnB1c2gobGlzdHNbaV0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihsaXN0c1tpXS5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgQ291bnQxTGlzdC5wdXNoKGxpc3RzW2ldKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobGlzdHNbaV0ubGVuZ3RoID09PSA0KXtcclxuICAgICAgICAgICAgICAgIENvdW50NExpc3QucHVzaChsaXN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0eXBlID0gbGFzdE9iai50eXBlO1xyXG4gICAgICAgIGxldCBvYmogPSBudWxsO1xyXG4gICAgICAgIGlmKHR5cGUgPT09ICdvbmUnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQxTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDFMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0W2ldWzBdLm51bWJlcj5sYXN0T2JqLm9uZVswXS5udW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IENvdW50MUxpc3RbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmU6IENvdW50MUxpc3RbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYoQ291bnQyTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDJMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0W2ldWzBdLm51bWJlcj5sYXN0T2JqLm9uZVswXS5udW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9rZXIgPSBDb3VudDJMaXN0W2ldLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogcG9rZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmU6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKENvdW50M0xpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Q291bnQzTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQzTGlzdFtpXVswXS5udW1iZXI+bGFzdE9iai5vbmVbMF0ubnVtYmVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBva2VyID0gQ291bnQzTGlzdFtpXS5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lOiBwb2tlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3R3bycpe1xyXG4gICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50Mkxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50Mkxpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoudHdvWzBdLm51bWJlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQyTGlzdFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3bzogQ291bnQyTGlzdFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50M0xpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50M0xpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoudHdvWzBdLm51bWJlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb2tlciA9IENvdW50M0xpc3RbaV0uc2xpY2UoMCwyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBva2VyOiBwb2tlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogcG9rZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICd0aHJlZVdpdGhPbmUnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDNMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDNMaXN0W2ldWzBdLm51bWJlcj5sYXN0T2JqLnRocmVlWzBdLm51bWJlcil7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZSA9IENvdW50MUxpc3RbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lID0gQ291bnQyTGlzdFswXS5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPENvdW50M0xpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGo9PT1pKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZSA9IENvdW50M0xpc3Rbal0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob25lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBva2VyOiBDb3VudDNMaXN0W2ldLmNvbmNhdChvbmUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0W2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTogb25lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3RocmVlV2l0aFR3bycpe1xyXG4gICAgICAgICAgICBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50M0xpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50M0xpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoudGhyZWVbMF0ubnVtYmVyKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0d287XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENvdW50Mkxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvID0gQ291bnQyTGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoQ291bnQzTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDsgajxDb3VudDNMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihqPT09aSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d28gPSBDb3VudDNMaXN0W2pdLnNsaWNlKDAsMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR3byl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQzTGlzdFtpXS5jb25jYXQodHdvKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d286IHR3byxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3RocmVlV2l0aE9uZUxpc3QnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGg+MSl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDNMaXN0Lmxlbmd0aC0xOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50M0xpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoubGlzdFswXS50aHJlZVswXS5udW1iZXIgJiYgQ291bnQzTGlzdFtpXVswXS5udW1iZXIrMT09PUNvdW50M0xpc3RbaSsxXVswXS5udW1iZXIrMSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb25lMSxvbmUyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTEgPSBDb3VudDFMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQxTGlzdC5sZW5ndGg+MSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMiA9IENvdW50MUxpc3RbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMiA9IENvdW50Mkxpc3RbMF0uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8Q291bnQzTGlzdC5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihqPT09aSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUyID0gQ291bnQzTGlzdFtqXS5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTEgPSBDb3VudDJMaXN0WzBdLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUyID0gQ291bnQyTGlzdFswXS5zbGljZSgxLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihDb3VudDNMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPENvdW50M0xpc3QubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGo9PT1pKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZTEgPSBDb3VudDNMaXN0W2pdLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lMiA9IENvdW50M0xpc3Rbal0uc2xpY2UoMSwyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob25lMSYmb25lMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQzTGlzdFtpXS5jb25jYXQob25lMSkuY29uY2F0KENvdW50M0xpc3RbaSsxXSkuY29uY2F0KG9uZTIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWU6IENvdW50M0xpc3RbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmU6IG9uZTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0W2krMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmU6IG9uZTIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ3RocmVlV2l0aFR3b0xpc3QnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQzTGlzdC5sZW5ndGg+MSl7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxDb3VudDNMaXN0Lmxlbmd0aC0xOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50M0xpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoubGlzdFswXS50aHJlZVswXS5udW1iZXIgJiYgQ291bnQzTGlzdFtpXVswXS5udW1iZXIrMT09PUNvdW50M0xpc3RbaSsxXVswXS5udW1iZXIrMSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHdvMSx0d28yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3bzEgPSBDb3VudDJMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQyTGlzdC5sZW5ndGg+MSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvMiA9IENvdW50Mkxpc3RbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDsgajxDb3VudDNMaXN0Lmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaj09PWkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvMiA9IENvdW50M0xpc3Rbal0uc2xpY2UoMCwyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR3bzEmJnR3bzIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IENvdW50M0xpc3RbaV0uY29uY2F0KHR3bzEpLmNvbmNhdChDb3VudDNMaXN0W2krMV0pLmNvbmNhdCh0d28yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlOiBDb3VudDNMaXN0W2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiB0d28xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlZTogQ291bnQzTGlzdFtpKzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdvOiB0d28yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ29uZUxpc3QnKXtcclxuICAgICAgICAgICAgaWYoQ291bnQxTGlzdC5sZW5ndGg+PWxhc3RPYmoubGlzdC5sZW5ndGggKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPENvdW50MUxpc3QubGVuZ3RoLWxhc3RPYmoubGlzdC5sZW5ndGgrMTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb3VudDFMaXN0W2ldWzBdLm51bWJlcj5sYXN0T2JqLmxpc3RbMF0ub25lWzBdLm51bWJlciAmJiBDb3VudDFMaXN0W2ldWzBdLm51bWJlcitsYXN0T2JqLmxpc3QubGVuZ3RoLTE9PT1Db3VudDFMaXN0W2krbGFzdE9iai5saXN0Lmxlbmd0aC0xXVswXS5udW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IENvdW50MUxpc3Quc2xpY2UoaSxpK2xhc3RPYmoubGlzdC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IGxpc3QuZmxhdCgxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAndHdvTGlzdCcpe1xyXG4gICAgICAgICAgICBpZihDb3VudDJMaXN0Lmxlbmd0aD49bGFzdE9iai5saXN0Lmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Q291bnQyTGlzdC5sZW5ndGgtbGFzdE9iai5saXN0Lmxlbmd0aCsxOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKENvdW50Mkxpc3RbaV1bMF0ubnVtYmVyPmxhc3RPYmoubGlzdFswXS50d29bMF0ubnVtYmVyICYmIENvdW50Mkxpc3RbaV1bMF0ubnVtYmVyK2xhc3RPYmoubGlzdC5sZW5ndGgtMT09PUNvdW50Mkxpc3RbaStsYXN0T2JqLmxpc3QubGVuZ3RoLTFdWzBdLm51bWJlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gQ291bnQyTGlzdC5zbGljZShpLGkrbGFzdE9iai5saXN0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogbGlzdC5mbGF0KDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d286IGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09ICdmb3VyJyl7XHJcbiAgICAgICAgICAgIGlmKENvdW50NExpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Q291bnQ0TGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ291bnQ0TGlzdFtpXVswXS5udW1iZXI+bGFzdE9iai5mb3VyWzBdLm51bWJlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2tlcjogQ291bnQ0TGlzdFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdXI6IENvdW50NExpc3RbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIW9iaiAmJiB0eXBlIT09J2ZvdXInKXtcclxuXHJcbiAgICAgICAgICAgIGlmKENvdW50NExpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9rZXI6IENvdW50NExpc3RbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm91cjogQ291bnQ0TGlzdFswXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighb2JqICYmIHR5cGUhPT0nc3gnKXtcclxuXHJcbiAgICAgICAgICAgIGlmKENvdW50MUxpc3QubGVuZ3RoPjEpe1xyXG4gICAgICAgICAgICAgICAgaWYoQ291bnQxTGlzdFtDb3VudDFMaXN0Lmxlbmd0aC0yXSA9PT0gMTYpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb2tlciA9IENvdW50MUxpc3RbQ291bnQxTGlzdC5sZW5ndGgtMl0uY29uY2F0KENvdW50MUxpc3RbQ291bnQxTGlzdC5sZW5ndGgtMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9rZXI6IHBva2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzeDogcG9rZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFvYmope1xyXG4gICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFzcycsXHJcbiAgICAgICAgICAgICAgICBwb2tlcjogWydwYXNzJ10sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlCeU9iaihsYXN0T2JqKXtcclxuXHJcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMuZ2V0T2JqQnlPYmoobGFzdE9iaik7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0aGlzLmRlbGV0ZUZyb21Qb2tlckxpc3RBbmRTZW5kQnlPYmoob2JqKTtcclxuICAgICAgICBpZighc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdlcnJvciEnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExpc3RCeVN0cmluZyhzdHIpe1xyXG4gICAgICAgIGxldCB0ZW1wTGlzdCA9IFtdO1xyXG4gICAgICAgIGlmKHN0ciA9PT0gJ3Bhc3MnKXtcclxuICAgICAgICAgICAgcmV0dXJuIFsncGFzcyddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGk9MDsgaTxzdHIubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9IHN0cltpXTtcclxuICAgICAgICAgICAgbGV0IG51bWJlciA9IFBva2VyLnRleHRUb051bWJlcih0ZXh0KTtcclxuICAgICAgICAgICAgbGV0IHBva2VyID0gdGhpcy5nZXRBbmREZWxldGVPbmVQb2tlckJ5TnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmKHBva2VyKXtcclxuICAgICAgICAgICAgICAgIHRlbXBMaXN0LnB1c2gocG9rZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdEJhY2tUb1Bva2VyTGlzdCh0ZW1wTGlzdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRlbXBMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGxpc3RCYWNrVG9Qb2tlckxpc3QobGlzdCl7XHJcbiAgICAgICAgd2hpbGUgKGxpc3QubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICBsZXQgcG9rZXIgPSBsaXN0LnNwbGljZSgwLDEpWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnBva2VyTGlzdC5wdXNoKHBva2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb3J0UG9rZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5QnlTdHJpbmcoc3RyKXtcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuZ2V0TGlzdEJ5U3RyaW5nKHN0cik7XHJcbiAgICAgICAgaWYobGlzdCl7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSBQb2tlci5nZXRPYmpCeVBva2VyTGlzdChsaXN0KTtcclxuICAgICAgICAgICAgaWYob2JqKXtcclxuICAgICAgICAgICAgICAgIGlmKG9iai50eXBlID09PSAncGFzcycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBva2VyKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdE9iaiA9IHRoaXMuZ2V0TGFzdE9iaigpO1xyXG4gICAgICAgICAgICAgICAgaWYobGFzdE9iail7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobGFzdE9iai50eXBlID09PSBvYmoudHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5jb21wYXJlVHdvT2JqKG9iaiwgbGFzdE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbXApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUG9rZXIob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdEJhY2tUb1Bva2VyTGlzdChsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdoYXZlIHRvIGJpZ2dlciB0aGFuICcrUG9rZXIucG9rZXJMaXN0VG9TdHJpbmcobGFzdE9iai5wb2tlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RCYWNrVG9Qb2tlckxpc3QobGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCd0eXBlIGlzIG5vdCAnK2xhc3RPYmoudHlwZSsnIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUG9rZXIob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0QmFja1RvUG9rZXJMaXN0KGxpc3QpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ3R5cGUgZXJyb3IhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdwb2tlciBlcnJvciEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29tcGFyZVR3b09iaihvYmoxLCBvYmoyKSB7XHJcbiAgICAgICAgaWYgKG9iajEudHlwZSA9PT0gJ29uZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEub25lWzBdLm51bWJlciA+IG9iajIub25lWzBdLm51bWJlcjtcclxuICAgICAgICB9IGVsc2UgaWYgKG9iajEudHlwZSA9PT0gJ3R3bycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEudHdvWzBdLm51bWJlciA+IG9iajIudHdvWzBdLm51bWJlcjtcclxuICAgICAgICB9IGVsc2UgaWYgKG9iajEudHlwZSA9PT0gJ3RocmVlV2l0aE9uZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEudGhyZWVbMF0ubnVtYmVyID4gb2JqMi50aHJlZVswXS5udW1iZXI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmoxLnR5cGUgPT09ICd0aHJlZVdpdGhUd28nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmoxLnRocmVlWzBdLm51bWJlciA+IG9iajIudGhyZWVbMF0ubnVtYmVyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqMS50eXBlID09PSAndGhyZWVXaXRoT25lTGlzdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEubGlzdFswXS50aHJlZVswXS5udW1iZXIgPiBvYmoyLmxpc3RbMF0udGhyZWVbMF0ubnVtYmVyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqMS50eXBlID09PSAndGhyZWVXaXRoVHdvTGlzdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEubGlzdFswXS50aHJlZVswXS5udW1iZXIgPiBvYmoyLmxpc3RbMF0udGhyZWVbMF0ubnVtYmVyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqMS50eXBlID09PSAnb25lTGlzdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEubGlzdFswXS5vbmVbMF0ubnVtYmVyID4gb2JqMi5saXN0WzBdLm9uZVswXS5udW1iZXI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmoxLnR5cGUgPT09ICd0d29MaXN0Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqMS5saXN0WzBdLnR3b1swXS5udW1iZXIgPiBvYmoyLmxpc3RbMF0udHdvWzBdLm51bWJlcjtcclxuICAgICAgICB9IGVsc2UgaWYgKG9iajEudHlwZSA9PT0gJ2ZvdXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmoxLmZvdXJbMF0ubnVtYmVyID4gb2JqMi5mb3VyWzBdLm51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEFuZERlbGV0ZU9uZVBva2VyQnlOdW1iZXIobnVtYmVyKXtcclxuICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnBva2VyTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucG9rZXJMaXN0W2ldLm51bWJlciA9PT0gbnVtYmVyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBva2VyTGlzdC5zcGxpY2UoaSwxKVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcG9rZXJMaXN0VG9TdHJpbmcoKXtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gUG9rZXIucG9rZXJMaXN0VG9TdHJpbmcodGhpcy5wb2tlckxpc3QpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGFzdFNlbmRPYmpUb1N0cmluZygpe1xyXG4gICAgICAgIGlmKCF0aGlzLmxhc3RTZW5kT2JqKXtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzdWx0ID0gUG9rZXIucG9rZXJMaXN0VG9TdHJpbmcodGhpcy5sYXN0U2VuZE9iai5wb2tlcik7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgUG9rZXIgZnJvbSBcIi4vUG9rZXJcIjtcclxuXHJcbmNsYXNzIEdhbWV7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnBva2VyTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuZGVza1Bva2VyT2JqID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9sZFBva2VyTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBsYXllciA9IFtdO1xyXG4gICAgICAgIHRoaXMuZGl6aHUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5pbml0UG9rZXJMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5pbml0UGxheWVyTGlzdCgpO1xyXG4gICAgICAgIHRoaXMuc2VuZFBva2VyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBsYXllciA9IHRoaXMuZGl6aHU7XHJcbiAgICAgICAgaWYodGhpcy5jdXJyZW50UGxheWVyLmlzUm9ib3Qpe1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUJ5QUkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dCgpe1xyXG4gICAgICAgIGxldCBvdmVyID0gdGhpcy5jaGVja0dhbWVPdmVyKCk7XHJcbiAgICAgICAgaWYob3Zlcil7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLmN1cnJlbnRQbGF5ZXIubmV4dDtcclxuICAgICAgICBpZih0aGlzLmN1cnJlbnRQbGF5ZXIuaXNSb2JvdCl7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBsYXllci5wbGF5QnlBSSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnYW1lT3Zlcigpe1xyXG4gICAgICAgIGFsZXJ0KCdnYW1lT3ZlciEgJyt0aGlzLmN1cnJlbnRQbGF5ZXIubmFtZSsnIFsnK3RoaXMuY3VycmVudFBsYXllci50eXBlKyddIHdpbiEnKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0dhbWVPdmVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5jdXJyZW50UGxheWVyLnBva2VyTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyRGVzaygpe1xyXG4gICAgICAgIGlmKHRoaXMuZGVza1Bva2VyT2JqKXtcclxuICAgICAgICAgICAgdGhpcy5vbGRQb2tlckxpc3QucHVzaCh0aGlzLmRlc2tQb2tlck9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuZGVza1Bva2VyT2JqID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFBva2VyKCl7XHJcbiAgICAgICAgbGV0IHBsYXllciA9IHRoaXMucGxheWVyTGlzdFswXTtcclxuICAgICAgICBkb3tcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMCx0aGlzLnBva2VyTGlzdC5sZW5ndGgtMSk7XHJcbiAgICAgICAgICAgIGxldCBwb2tlciA9IHRoaXMucG9rZXJMaXN0LnNwbGljZShpbmRleCwxKVswXTtcclxuICAgICAgICAgICAgcGxheWVyLmFkZFBva2VyKHBva2VyKTtcclxuICAgICAgICAgICAgcGxheWVyID0gcGxheWVyLm5leHQ7XHJcbiAgICAgICAgfXdoaWxlKHRoaXMucG9rZXJMaXN0Lmxlbmd0aD4zKTtcclxuXHJcbiAgICAgICAgZG97XHJcbiAgICAgICAgICAgIGxldCBwb2tlciA9IHRoaXMucG9rZXJMaXN0LnNwbGljZSgwLDEpWzBdO1xyXG4gICAgICAgICAgICB0aGlzLmRpemh1LmFkZFBva2VyKHBva2VyKTtcclxuICAgICAgICB9d2hpbGUodGhpcy5wb2tlckxpc3QubGVuZ3RoPjApO1xyXG5cclxuICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnBsYXllckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllckxpc3RbaV0uc29ydFBva2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRQbGF5ZXJMaXN0KCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IHBsYXllcjAgPSBuZXcgUGxheWVyKHtcclxuICAgICAgICAgICAgbmFtZTogJ3BsYXllcicsXHJcbiAgICAgICAgICAgIGlzUm9ib3Q6IGZhbHNlLFxyXG4gICAgICAgICAgICBnYW1lOiB0aGlzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBwbGF5ZXIxID0gbmV3IFBsYXllcih7XHJcbiAgICAgICAgICAgIG5hbWU6ICdyb2JvdDEnLFxyXG4gICAgICAgICAgICBpc1JvYm90OiB0cnVlLFxyXG4gICAgICAgICAgICBnYW1lOiB0aGlzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBwbGF5ZXIyID0gbmV3IFBsYXllcih7XHJcbiAgICAgICAgICAgIG5hbWU6ICdyb2JvdDInLFxyXG4gICAgICAgICAgICBpc1JvYm90OiB0cnVlLFxyXG4gICAgICAgICAgICBnYW1lOiB0aGlzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdCA9IFtwbGF5ZXIwLHBsYXllcjEscGxheWVyMl07XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFswXS5uZXh0ID0gdGhpcy5wbGF5ZXJMaXN0WzFdO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFsxXS5uZXh0ID0gdGhpcy5wbGF5ZXJMaXN0WzJdO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFsyXS5uZXh0ID0gdGhpcy5wbGF5ZXJMaXN0WzBdO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFswXS5sYXN0ID0gdGhpcy5wbGF5ZXJMaXN0WzJdO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFsxXS5sYXN0ID0gdGhpcy5wbGF5ZXJMaXN0WzBdO1xyXG4gICAgICAgIHRoaXMucGxheWVyTGlzdFsyXS5sYXN0ID0gdGhpcy5wbGF5ZXJMaXN0WzFdO1xyXG5cclxuICAgICAgICBsZXQgZGl6aHVJbmRleCA9IHRoaXMuZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDAsMik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJMaXN0W2Rpemh1SW5kZXhdLnR5cGUgPSAnZGl6aHUnO1xyXG4gICAgICAgIHRoaXMuZGl6aHUgPSB0aGlzLnBsYXllckxpc3RbZGl6aHVJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFBva2VyTGlzdCgpe1xyXG4gICAgICAgIHRoaXMucG9rZXJMaXN0ID0gW107XHJcbiAgICAgICAgZm9yKGxldCBudW1iZXI9MzsgbnVtYmVyPD0xNTsgbnVtYmVyKyspe1xyXG4gICAgICAgICAgICBmb3IobGV0IHR5cGU9MDsgdHlwZTw0OyB0eXBlKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBva2VyID0gbmV3IFBva2VyKHtcclxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBva2VyTGlzdC5wdXNoKHBva2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IG51bWJlcj0xNjsgbnVtYmVyPD0xNzsgbnVtYmVyKyspe1xyXG4gICAgICAgICAgICBsZXQgcG9rZXIgPSBuZXcgUG9rZXIoe1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBudW1iZXIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBva2VyTGlzdC5wdXNoKHBva2VyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBva2VyTGlzdFRvU3RyaW5nKCl7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIHJlc3VsdCArPSBQb2tlci5wb2tlckxpc3RUb1N0cmluZyh0aGlzLnBva2VyTGlzdCk7XHJcbiAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMub2xkUG9rZXJMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IFBva2VyLnBva2VyTGlzdFRvU3RyaW5nKHRoaXMub2xkUG9rZXJMaXN0W2ldLnBva2VyKTtcclxuICAgICAgICAgICAgaWYoaTx0aGlzLm9sZFBva2VyTGlzdC5sZW5ndGgtMSl7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJywnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCArPSAnXFxuJztcclxuICAgICAgICByZXN1bHQgKz0gdGhpcy5kZXNrUG9rZXJPYmo/UG9rZXIucG9rZXJMaXN0VG9TdHJpbmcodGhpcy5kZXNrUG9rZXJPYmoucG9rZXIpOicnO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmFuZG9tSW50SW5jbHVzaXZlKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdhbWU7IiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vR2FtZVwiO1xyXG5cclxubGV0IERvdWRpemh1ID0ge307XHJcbkRvdWRpemh1LkdhbWUgPSBHYW1lO1xyXG5cclxud2luZG93LkRvdWRpemh1ID0gRG91ZGl6aHU7Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2wxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);